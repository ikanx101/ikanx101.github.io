"Willy","Bembi","Reza"),
"Supervisor",
"Admin"),
jabatan = ifelse(name == "Veronica","Manager",jabatan),
ket = ifelse(name %in% c("Willy","Bembi","Erika","Reza","Arninta",
"Scasia","Sony","Nanda","Ian","Indra","Rocky",
"Evelyn"),
"Dept lain",
"Dept sendiri"),
alias = dbase$alias[match(name,dbase$nama_asli)])
graf = graph_from_data_frame(data)
tbl_graph = as_tbl_graph(graf)
hub_id = degree(tbl_graph)
between_index = betweenness(graf)
tbl_graph =
tbl_graph %>%
activate(nodes) %>%
mutate(degree = degree(tbl_graph),
cluster = as.factor(group_infomap()),
jabatan = ifelse(name %in% c("Remon","Anthony",
"Novitalia","Elizabeth",
"Arninta","Asih","Kristi",
"Dian","Irene","Herman","Rani","Laksmi",
"Willy","Bembi","Reza"),
"Supervisor",
"Admin"),
jabatan = ifelse(name == "Veronica","Manager",jabatan),
ket = ifelse(name %in% c("Willy","Bembi","Erika","Reza","Arninta",
"Scasia","Sony","Nanda","Ian","Indra","Rocky",
"Evelyn"),
"Dept lain",
"Dept sendiri"),
alias = dbase$alias[match(name,dbase$nama_asli)])
tbl_graph
data.frame(tb_graph)
data.frame(tbl_graph)
graf = graph_from_data_frame(data)
tbl_graph = as_tbl_graph(graf)
hub_id = degree(tbl_graph)
between_index = betweenness(graf)
tbl_graph =
tbl_graph %>%
activate(nodes) %>%
mutate(degree = degree(tbl_graph),
between = betweenness(tbl_graph),
cluster = as.factor(group_infomap()),
jabatan = ifelse(name %in% c("Remon","Anthony",
"Novitalia","Elizabeth",
"Arninta","Asih","Kristi",
"Dian","Irene","Herman","Rani","Laksmi",
"Willy","Bembi","Reza"),
"Supervisor",
"Admin"),
jabatan = ifelse(name == "Veronica","Manager",jabatan),
ket = ifelse(name %in% c("Willy","Bembi","Erika","Reza","Arninta",
"Scasia","Sony","Nanda","Ian","Indra","Rocky",
"Evelyn"),
"Dept lain",
"Dept sendiri"),
alias = dbase$alias[match(name,dbase$nama_asli)])
ggraph(tbl_graph,layout = "circle") +
geom_edge_link() +
geom_node_label(aes(label = alias))
data.frame(tbl_graph)
data.frame(tbl_graph) %>%
select(alias,degree,between,jabatan,ket)
data.frame(tbl_graph) %>%
select(alias,degree,between,jabatan,ket) %>%
rename(nama = alias) %>%
arrange(desc(degree,between))
tbl_graph
data.frame(tbl_graph) %>%
select(alias,degree,between,jabatan,ket) %>%
rename(nama = alias) %>%
arrange(desc(degree,between))
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(size = degree,fill = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(size = degree,color = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(size = degree,color = degree),
alpha = .3) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
scale_color_gradient(low = "lightblue", high = "firebrick4") +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
scale_color_gradient(low = "lightblue", high = "firebrick4") +
geom_node_text(aes(label = alias)) +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
scale_color_gradient(low = "lightblue", high = "steelblue") +
geom_node_text(aes(label = alias)) +
theme_void() +
theme(legend.position = "none")
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
scale_color_gradient(low = "darkred", high = "steelblue") +
geom_node_text(aes(label = alias)) +
theme_void() +
theme(legend.position = "none")
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = between)) +
scale_color_gradient(low = "darkred", high = "steelblue") +
geom_node_text(aes(label = alias)) +
theme_void() +
theme(legend.position = "none")
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
scale_color_gradient(low = "darkred", high = "steelblue") +
geom_node_text(aes(label = alias)) +
theme_void() +
theme(legend.position = "none")
tbl_graph
data.frame(tbl_graph)
data.frame(tbl_graph) %>%
select(alias,degree,between,jabatan,ket) %>%
rename(nama = alias) %>%
arrange(desc(degree,between)) %>%
knitr::kable()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = degree,color = degree)) +
scale_color_gradient(low = "darkred", high = "steelblue") +
geom_node_text(aes(label = alias)) +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link(alpha = .2) +
geom_node_point(aes(size = between,color = between)) +
scale_color_gradient(low = "darkred", high = "steelblue") +
geom_node_text(aes(label = alias)) +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(color = cluster,size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void()
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(color = cluster,size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void() +
facet_wrap(~cluster)
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(color = cluster,size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void() +
facet_wrap(~cluster,scales = "free")
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(color = cluster,size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void() +
facet_nodes(~reach, ncol = 4, nrow = 1, labeller = label_both)
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(color = cluster,size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void() +
facet_nodes(~cluster, ncol = 4, nrow = 1, labeller = label_both)
ggraph(tbl_graph,layout = "gem") +
geom_edge_link() +
geom_node_point(aes(color = cluster,size = degree)) +
geom_node_text(aes(label = alias)) +
coord_fixed() +
theme_void() +
facet_nodes(~cluster, ncol = 2, nrow = 2, labeller = label_both) +
theme(legend.position = "none")
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi/bagian 1")
setwd("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 1")
knitr::opts_chunk$set(echo = TRUE)
#setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi/bagian 1")
knitr::include_graphics("rekap.png")
library(rvest)
library(dplyr)
library(tidyr)
# url
url = "https://mkri.id/index.php?page=web.RekapPUU&menu=4"
# web scrape
data =
read_html(url) %>%
html_table(fill = T)
str(data)
# ambil data frame dari element pertama dari list
data = data[[1]]
# membersihkan nama kolom
data =
data %>%
janitor::clean_names()
knitr::include_graphics("raw.png")
str(data)
data =
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah") %>%
mutate(tahun = as.numeric(tahun),
dalam_proses_tahun_ini = as.numeric(dalam_proses_tahun_ini))
knitr::include_graphics("raw2.png")
head(data$amar_putusan,3)
data =
data %>%
mutate(amar_putusan = gsub("\\\r","",amar_putusan),
amar_putusan = gsub("\\\t","",amar_putusan)) %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(tolak = gsub("\\D","",tolak),
tolak = as.numeric(tolak),
kabul = gsub("\\D","",kabul),
kabul = as.numeric(kabul),
tidak_diterima = gsub("\\D","",tidak_diterima),
tidak_diterima = as.numeric(tidak_diterima),
tarik_kembali = gsub("\\D","",tarik_kembali),
tarik_kembali = as.numeric(tarik_kembali),
gugur = gsub("\\D","",gugur),
gugur = as.numeric(gugur),
tidak_berwenang = gsub("\\D","",tidak_berwenang),
tidak_berwenang = as.numeric(tidak_berwenang))
save(data,file = "clean.rda")
colnames(data) = c("Tahun",
"Dalam proses yg lalu",
"Diregistrasi",
"Jumlah",
"Dikabulkan",
"Ditolak",
"TIdak diterima",
"Tarik kembali",
"Gugur",
"Tidak berwenang",
"Jumlah putusan",
"Dalam proses tahun ini",
"Jumlah UU yg diuji")
knitr::kable(data)
setwd("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 2")
load("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 1/clean data.rda")
knitr::opts_chunk$set(echo = TRUE)
setwd("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 2")
rm(list=ls())
library(dplyr)
library(ggplot2)
load("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 1/clean.rda")
library(rvest)
url = "https://id.wikipedia.org/wiki/Pimpinan_Mahkamah_Konstitusi_Republik_Indonesia"
data = read_html(url) %>% html_table(fill = T)
data[[1]]
data[[2]]
data[[3]]
data[[4]]
pimpinan = data[[3]]
View(pimpinan)
pimpinan = data[[3]] %>% janitor::clean_names()
pimpinan %>%
mutate(dari = lubridate::date(dari))
pimpinan %>%
mutate(dari = substr(dari,length(dari)-4,length(dari))
)
library(tidyr)
pimpinan %>%
separate(dari,into = c("hapus1","hapus2","tahun_dari"),sep = " ")
pimpinan %>%
separate(dari,into = c("hapus1","hapus2","tahun_dari"),sep = " ") %>%
mutate(hapus1 = NULL,
hapus2 = NULL,
tahun_dari = as.numeric(tahun_dari))
pimpinan =
pimpinan %>%
separate(dari,into = c("hapus1","hapus2","tahun_dari"),sep = " ") %>%
mutate(hapus1 = NULL,
hapus2 = NULL,
tahun_dari = as.numeric(tahun_dari)) %>%
separate(sampai,into = c("hapus1","hapus2","tahun_sampai"),sep = " ") %>%
mutate(hapus1 = NULL,
hapus2 = NULL,
tahun_sampai = as.numeric(tahun_sampai))
View(pimpinan)
library(rvest)
library(tidyr)
url = "https://id.wikipedia.org/wiki/Pimpinan_Mahkamah_Konstitusi_Republik_Indonesia"
data = read_html(url) %>% html_table(fill = T)
pimpinan = data[[3]] %>% janitor::clean_names()
pimpinan =
pimpinan %>%
separate(dari,into = c("hapus1","hapus2","tahun_dari"),sep = " ") %>%
mutate(hapus1 = NULL,
hapus2 = NULL,
tahun_dari = as.numeric(tahun_dari)) %>%
separate(sampai,into = c("hapus1","hapus2","tahun_sampai"),sep = " ") %>%
mutate(hapus1 = NULL,
hapus2 = NULL,
tahun_sampai = as.numeric(tahun_sampai),
tahun_sampai = ifelse(is.na(tahun_sampai),2020,tahun_sampai))
save(pimpinan,file = "pimp.rda")
knitr::opts_chunk$set(echo = TRUE)
setwd("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 2")
rm(list=ls())
library(dplyr)
library(ggplot2)
load("pimp.rda")
pimpinan %>%
select(nama,tahun_dari,tahun_sampai) %>%
ggplot(aes(y = nama,
xstart = tahun_dari,
xend = tahun_sampai)) +
geom_segment()
pimpinan %>%
select(nama,tahun_dari,tahun_sampai) %>%
ggplot(aes(x = nama,
ystart = tahun_dari,
yend = tahun_sampai)) +
geom_segment()
pimpinan %>%
select(nama,tahun_dari,tahun_sampai) %>%
ggplot(aes(x = nama,
ystart = tahun_dari,
yend = tahun_sampai)) +
geom_segment()
pimpinan %>%
select(nama,tahun_dari,tahun_sampai) %>%
ggplot(aes(y = nama,
xstart = tahun_dari,
xend = tahun_sampai,
yend = nama)) +
geom_segment()
pimpinan %>%
select(nama,tahun_dari,tahun_sampai) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = nama,
yend = nama)) +
geom_segment()
View(pimpinan)
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama)) +
geom_segment()
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama,
color = prd)) +
geom_segment(size = 9)
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama,
color = factor(prd))) +
geom_segment(size = 9)
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama,
color = factor(prd))) +
geom_segment(size = 9) +
geom_label(aes(label = prd))
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama,
color = factor(prd))) +
geom_segment(size = 9) +
geom_label(aes(label = paste0("Periode:",prd)))
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama,
color = factor(prd))) +
geom_segment(size = 9) +
geom_label(aes(label = paste0("Periode:",prd)),size = 2)
pimpinan %>%
select(nama,tahun_dari,tahun_sampai,prd) %>%
ggplot(aes(x = tahun_dari,
xend = tahun_sampai,
y = reorder(nama,prd),
yend = nama,
color = factor(prd))) +
geom_segment(size = 9) +
geom_label(aes(label = paste0("Periode:",prd)),size = 2) +
theme_minimal() +
labs(title = "Pimpinan Mahkamah Konstitusi",
subtitle = "sumber: wikipedia",
x = "Tahun",
y = "Nama",
caption = "Scraped and Visualized\nusing R\nikanx101.com")
knitr::opts_chunk$set(echo = TRUE)
setwd("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 2")
rm(list=ls())
library(dplyr)
library(ggplot2)
load("pimp.rda")
load("~/ikanx101.github.io/_posts/mahkamah konstitusi/bagian 1/clean.rda")
sum(data$jumlah_u_uyang_diuji)
2020-2003
709/17
data %>%
ggplot(
aes(x = tahun,
y = jumlah_u_uyang_diuji)
) %>%
geom_line(group = 1,
color = "steelblue") +
geom_text(
aes(label = jumlah_u_uyang_diuji)
)
data %>%
ggplot(
aes(x = tahun,
y = jumlah_u_uyang_diuji)
) +
geom_line(group = 1,
color = "steelblue") +
geom_text(
aes(label = jumlah_u_uyang_diuji)
)
data %>%
ggplot(
aes(x = tahun,
y = jumlah_u_uyang_diuji)
) +
geom_line(group = 1,
color = "steelblue") +
geom_text(
aes(label = jumlah_u_uyang_diuji)
) +
geom_smooth(method = "loess")
data %>%
ggplot(
aes(x = tahun,
y = jumlah_u_uyang_diuji)
) +
geom_line(group = 1,
color = "steelblue") +
geom_text(
aes(label = jumlah_u_uyang_diuji)
) +
theme_minimal() +
labs(title = "Banyaknya UU yang Diuji Setiap Tahunnya",
subtitle = "sumber: Mahkamah Konstitusi",
caption = "Scraped and Visualized\nusing R\nikanx101.com",
x = "Tahun",
y = "# UU") +
theme(axis.text.y = element_blank())
data %>%
ggplot(
aes(x = tahun,
y = jumlah_u_uyang_diuji)
) +
geom_line(group = 1,
color = "steelblue") +
geom_text(
aes(label = jumlah_u_uyang_diuji)
) +
theme_minimal() +
labs(title = "Banyaknya UU yang Diuji Setiap Tahunnya",
subtitle = "sumber: Mahkamah Konstitusi",
caption = "Scraped and Visualized\nusing R\nikanx101.com",
x = "Tahun") +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank())
