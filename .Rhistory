mutate(date = as.Date(date))
# indonesia
indo = read_excel("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/COVID-19 di Indonesia @kawalcovid19.xlsx") %>% janitor::clean_names()
indo =
indo %>%
mutate(date = as.Date(x1)
)
itali_gab = itali %>% select(date,total_cases)
indo_gab = indo %>% select(date,total_kasus)
gabung = merge(itali_gab,indo_gab)
gabung %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = ifelse(variable == "total_cases","Italy","Indonesia")) %>%
rename(negara = variable,
kasus = value) %>%
mutate(label = kasus/1000,
label = round(label,1),
label = paste0(negara,"\n",label," ribu")) %>%
group_by(negara) %>%
mutate(label = ifelse(date == max(date),label,NA)) %>%
ggplot(aes(x = date,
y = kasus,
color = negara)) +
geom_line(size = 2) +
scale_color_brewer(palette = "Dark2") +
ggrepel::geom_label_repel(aes(label = label)) +
theme_pubclean() +
labs(title = "Perbandingan Total Kasus COVID-19: Italy vs Indonesia",
subtitle = "Sumber data: Ourworldindata dan Kawal Covid\n7 Oktober 2020 07.35 WIB",
x = "Tanggal",
y = "Total Kasus",
caption = "Visualized using R\nikanx101.com") +
theme(axis.text.y = element_blank(),
legend.position = "none")
indo %>%
select(date,kasus_baru,sembuh_baru,meninggal_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Dark2") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru vs Meninggal Baru Harian\ndi Indonesia",
subtitle = "Sumber data: Kawal Covid\n7 Oktober 2020 07.35 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
fill = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
load("world.rda")
dunia =
dunia %>%
filter(country_other != "") %>%
filter(!country_other %in% c("Total:",
"North America",
"Asia",
"South America",
"Europe",
"Africa",
"Oceania",
"World"))
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density(color = "steelblue",fill = "red",alpha = .6,size = 1.25) +
theme_pubclean() +
labs(title = "Sebaran Recovery Rate dari Seluruh Negara di Dunia",
subtitle = "Sumber data: Worldometers\n7 Oktober 2020 07.35 WIB",
x = "Recovery Rate",
caption = "Visualized using R\nikanx101.com") +
theme(axis.title.y = element_blank(),
axis.text.y = element_blank()) +
geom_vline(xintercept = .757) +
annotate("label",x = .74,y = 2.5, label = "Indonesia\n75.7%")
dunia %>%
mutate(warna = ifelse(country_other == "Indonesia",1,0),
label = ifelse(warna == 1,
paste0(round(recovery_rate*100,2),"%"),
NA)
) %>%
ggplot(aes(x = reorder(country_other,recovery_rate),
y = recovery_rate)) +
geom_col(aes(fill = warna)) +
geom_label(aes(label = label),size = 3) +
scale_color_brewer(palette = "Dark2") +
coord_flip() +
theme_pubclean() +
labs(title = "Recovery Rate per Negara",
subtitle = "Sumber data: Worldometers\n7 Oktober 2020 07.35 WIB",
x = "Negara",
caption = "Visualized using R\nikanx101.com") +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 7),
legend.position = "none")
indo %>%
ggplot(aes(x = date,
y = kasus_aktif)) +
geom_line(group = 1,size = 2,color = "darkred") +
geom_vline(xintercept = as.Date("2020-05-23"),color = "darkgreen") +
geom_vline(xintercept = as.Date("2020-07-30"),color = "brown") +
geom_vline(xintercept = as.Date("2020-08-17")) +
theme_pubclean() +
labs(title = "Kasus Aktif Harian di Indonesia",
subtitle = "Sumber data: Kawal Covid\n7 Oktober 2020 07.35 WIB",
x = "Tanggal",
y = "Kasus Aktif",
caption = "Visualized using R\nikanx101.com") +
annotate("label",x = as.Date("2020-05-23"),y = 45000, label = "Idul Fitri",color = "darkgreen") +
annotate("label",x = as.Date("2020-07-30"),y = 45000, label = "Idul Adha",color = "brown") +
annotate("label",x = as.Date("2020-08-17"),y = 50000, label = "HUT RI")
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi")
rm(list=ls())
url = "https://mkri.id/index.php?page=web.RekapPUU&menu=4"
library(rvest)
data =
read_html(url) %>%
html_table(fill = T)
data[[1]]
data = data[[1]]
View(data)
22+52+22+12+1+1
setwd("~/Documents/ikanx101.com/_posts/primbon nikah")
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi")
rm(list=ls())
url = "https://mkri.id/index.php?page=web.RekapPUU&menu=4"
library(rvest)
data =
read_html(url) %>%
html_table(fill = T)
data = data[[1]]
View(data)
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi")
data =
data %>%
janitor::clean_names()
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah")
data =
data %>%
janitor::clean_names()
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah")
data %>%
filter(!is.na(jumlah))
data %>%
filter(is.na(jumlah))
data$jumlah
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi")
library(rvest)
library(dplyr)
library(tidyr)
url = "https://mkri.id/index.php?page=web.RekapPUU&menu=4"
data =
read_html(url) %>%
html_table(fill = T)
str(data)
data = data[[1]]
head(data,5)
data =
data %>%
janitor::clean_names()
data %>%
filter(is.na(jumlah))
data %>%
filter(!is.na(jumlah))
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah")
data =
data %>%
janitor::clean_names()
str(data)
data =
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah") %>%
mutate(tahun = as.numeric(tahun),
dalam_proses_tahun_ini = as.numeric(dalam_proses_tahun_ini))
data
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi")
library(rvest)
library(dplyr)
library(tidyr)
url = "https://mkri.id/index.php?page=web.RekapPUU&menu=4"
data =
read_html(url) %>%
html_table(fill = T)
str(data)
data = data[[1]]
head(data,5)
data =
data %>%
janitor::clean_names()
str(data)
data =
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah") %>%
mutate(tahun = as.numeric(tahun),
dalam_proses_tahun_ini = as.numeric(dalam_proses_tahun_ini)) %>%
mutate(amar_putusan = gsub("\\\r","",amar_putusan),
amar_putusan = gsub("\\t","",amar_putusan))
data
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak diterima","tarik kembali","gugur","tidak berwenang"),
sep = "\\\n")
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Documents/ikanx101.com/_posts/mahkamah konstitusi")
library(rvest)
library(dplyr)
library(tidyr)
url = "https://mkri.id/index.php?page=web.RekapPUU&menu=4"
data =
read_html(url) %>%
html_table(fill = T)
str(data)
data = data[[1]]
head(data,5)
data =
data %>%
janitor::clean_names()
str(data)
data =
data %>%
filter(!is.na(jumlah)) %>%
filter(tahun != "Jumlah") %>%
mutate(tahun = as.numeric(tahun),
dalam_proses_tahun_ini = as.numeric(dalam_proses_tahun_ini)) %>%
mutate(amar_putusan = gsub("\\\r","",amar_putusan),
amar_putusan = gsub("\\t","",amar_putusan))
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(kabul = gsub("^[0-9]","",kabul),
kabul = as.numeric(kabul))
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(kabul = gsub("[0-9]","",kabul),
kabul = as.numeric(kabul))
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(kabul = gsub("[::numeric::]","",kabul),
kabul = as.numeric(kabul))
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(kabul = gsub("\\D","",kabul),
kabul = as.numeric(kabul))
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(kabul = gsub("\\D","",kabul),
kabul = as.numeric(kabul),
tidak_diterima = gsub("\\D","",tidak_diterima),
tidak_diterima = as.numeric(tidak_diterima),
tarik_kembali = gsub("\\D","",tarik_kembali),
tarik_kembali = as.numeric(tarik_kembali),
gugur = gsub("\\D","",gugur),
gugur = as.numeric(gugur),
tidak_berwenang = gsub("\\D","",tidak_berwenang),
tidak_berwenang = as.numeric(tidak_berwenang))
data %>%
separate(amar_putusan,
into = c("kabul","tolak","tidak_diterima","tarik_kembali","gugur","tidak_berwenang"),
sep = "\\\n") %>%
mutate(tolak = gsub("\\D","",tolak),
tolak = as.numeric(tolak),
kabul = gsub("\\D","",kabul),
kabul = as.numeric(kabul),
tidak_diterima = gsub("\\D","",tidak_diterima),
tidak_diterima = as.numeric(tidak_diterima),
tarik_kembali = gsub("\\D","",tarik_kembali),
tarik_kembali = as.numeric(tarik_kembali),
gugur = gsub("\\D","",gugur),
gugur = as.numeric(gugur),
tidak_berwenang = gsub("\\D","",tidak_berwenang),
tidak_berwenang = as.numeric(tidak_berwenang))
data
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Documents/ikanx101.com/_posts/Covid Update")
options(scipen = 99)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(gganimate)
library(readxl)
# italy
data = read.csv("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/owid-covid-data.csv")
target = "Italy"
itali =
data %>%
filter(location %in% target) %>%
mutate(date = as.Date(date))
# indonesia
indo = read_excel("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/COVID-19 di Indonesia @kawalcovid19.xlsx") %>% janitor::clean_names()
indo =
indo %>%
mutate(date = as.Date(x1)
)
itali_gab = itali %>% select(date,total_cases)
indo_gab = indo %>% select(date,total_kasus)
indo %>%
select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Dark2") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru vs Meninggal Baru Harian\ndi Indonesia",
subtitle = "Sumber data: Kawal Covid\n7 Oktober 2020 07.35 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
fill = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
indo %>%
select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Dark2") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru di Indonesia",
subtitle = "Sumber data: Kawal Covid\n9 Oktober 2020 13.29 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
fill = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
indo %>%
select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Dark2") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru di Indonesia",
subtitle = "Sumber data: Kawal Covid\n9 Oktober 2020 13.29 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
color = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
indo %>%
select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Accent") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru di Indonesia",
subtitle = "Sumber data: Kawal Covid\n9 Oktober 2020 13.29 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
color = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
indo %>%
select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Set1") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru di Indonesia",
subtitle = "Sumber data: Kawal Covid\n9 Oktober 2020 13.29 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
color = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
indo
indo %>%
select(kasus_baru,sembuh_baru)
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
jeda = c(1:30)
i=1
kor = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[1+i:max])
tes$kasus_baru[1:(max-i)
]
tes$sembuh_baru[1+i:max]
length(tes$sembuh_baru[1+i:max])
tes$kasus_baru[1:(max-i)]
length(tes$kasus_baru[1:(max-i)])
length(tes$sembuh_baru[(1+i):max])
for(i in 1:30){
kor = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[(1+i):max])
print(kor)
}
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
jeda = c(1:30)
kor = jeda
for(i in 1:30){
kor[i] = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[(1+i):max])
}
final = data.frame(jeda,kor)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1) +
geom_smooth()
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1) +
geom_smooth(alpha = .4)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1) +
geom_smooth(alpha = .2)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .2,
color = "darkred") +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .8,
color = "darkred",
fill = "red") +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25)
