select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Set1") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru di Indonesia",
subtitle = "Sumber data: Kawal Covid\n9 Oktober 2020 13.29 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
color = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
indo
indo %>%
select(kasus_baru,sembuh_baru)
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
jeda = c(1:30)
i=1
kor = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[1+i:max])
tes$kasus_baru[1:(max-i)
]
tes$sembuh_baru[1+i:max]
length(tes$sembuh_baru[1+i:max])
tes$kasus_baru[1:(max-i)]
length(tes$kasus_baru[1:(max-i)])
length(tes$sembuh_baru[(1+i):max])
for(i in 1:30){
kor = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[(1+i):max])
print(kor)
}
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
jeda = c(1:30)
kor = jeda
for(i in 1:30){
kor[i] = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[(1+i):max])
}
final = data.frame(jeda,kor)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1) +
geom_smooth()
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1) +
geom_smooth(alpha = .4)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_line(group = 1) +
geom_smooth(alpha = .2)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .2,
color = "darkred") +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .8,
color = "darkred",
fill = "red") +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Documents/ikanx101.com/_posts/Covid Update")
options(scipen = 99)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(gganimate)
library(readxl)
# italy
data = read.csv("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/owid-covid-data.csv")
target = "Italy"
itali =
data %>%
filter(location %in% target) %>%
mutate(date = as.Date(date))
# indonesia
indo = read_excel("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/COVID-19 di Indonesia @kawalcovid19.xlsx") %>% janitor::clean_names()
indo =
indo %>%
mutate(date = as.Date(x1)
)
itali_gab = itali %>% select(date,total_cases)
indo_gab = indo %>% select(date,total_kasus)
indo %>%
select(date,kasus_baru,sembuh_baru) %>%
reshape2::melt(id.vars = "date") %>%
mutate(variable = gsub("\\_"," ",variable),
variable = stringr::str_to_title(variable)
) %>%
rename(jenis = variable,
n = value) %>%
ggplot(aes(x = date,
y = n,
color = jenis)) +
geom_line(size = .6) +
scale_color_brewer(palette = "Set1") +
theme_pubclean() +
labs(title = "Perbandingan Penambahan Kasus Baru vs Sembuh Baru di Indonesia",
subtitle = "Sumber data: Kawal Covid\n10 Oktober 2020 04.47 WIB",
x = "Tanggal",
caption = "Visualized using R\nikanx101.com",
color = "Keterangan") +
theme(axis.title.y = element_blank(),
legend.position = "bottom")
tes =
indo %>%
select(kasus_baru,sembuh_baru)
max = length(tes$kasus_baru)
jeda = c(1:30)
kor = jeda
for(i in 1:30){
kor[i] = cor(tes$kasus_baru[1:(max-i)],
tes$sembuh_baru[(1+i):max])
}
final = data.frame(jeda,kor)
final %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label))
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .1,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .01,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .01,
color = "darkred",
fill = "red") +
geom_line(group = .5,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .5,
color = "darkred",
fill = "red") +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .3,
color = "darkred",
fill = "yellow") +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .3,
color = "darkred",
fill = "yellow",
size = .5) +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2)
final %>%
mutate(label = ifelse(kor == max(kor),
paste0("Korelasi: ",round(kor,2)),
NA)
) %>%
ggplot(aes(x = jeda,
y = kor)) +
geom_smooth(alpha = .3,
color = "darkred",
fill = "yellow",
size = .5) +
geom_line(group = 1,
color = "steelblue",
size = 1.25) +
geom_label(aes(label=label),
alpha = .2) +
theme_minimal()
ls()
setwd("~/Documents/ikanx101.com/_posts/Covid Update")
source('~/Documents/ikanx101.com/_posts/Covid Update/ambil recovery dari worldometers.R', echo=TRUE)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Documents/ikanx101.com/_posts/Covid Update")
options(scipen = 99)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(gganimate)
library(readxl)
# italy
data = read.csv("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/owid-covid-data.csv")
target = "Italy"
itali =
data %>%
filter(location %in% target) %>%
mutate(date = as.Date(date))
# indonesia
indo = read_excel("/home/ikanx101githubio/Documents/belajaR/Bukan Infografis/Covid Data/COVID-19 di Indonesia @kawalcovid19.xlsx") %>% janitor::clean_names()
indo =
indo %>%
mutate(date = as.Date(x1)
)
itali_gab = itali %>% select(date,total_cases)
indo_gab = indo %>% select(date,total_kasus)
rm(list=ls())
load("world.rda")
View(dunia)
dunia = dunia[-1:8]
rm(list=ls())
load("world.rda")
dunia = dunia[-1:8,]
rm(list=ls())
load("world.rda")
dunia = dunia[-1:-8,]
dunia = dunia[-218:-226]
rm(list=ls())
load("world.rda")
dunia = dunia[-1:-8,]
dunia = dunia[-218:-226]
rm(list=ls())
load("world.rda")
dunia = dunia[-1:-8,]
dunia = dunia[-218:-226,]
View(dunia)
View(dunia)
rm(list=ls())
load("world.rda")
dunia = dunia[-218:-226,]
dunia = dunia[-1:-8,]
View(dunia)
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density()
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",x = .7628,y=.3,"Indonesia: 76.28%")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",x = .7628,"Indonesia: 76.28%")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("text",x = .7628,"Indonesia: 76.28%")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("text",x = .7628,label = "Indonesia: 76.28%")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("text",x = .7628,y =.3,label = "Indonesia: 76.28%")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",x = .7628,y =2,label = "Indonesia: 76.28%")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "black",
color = "darkred")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density() +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred") +
theme_minimal()
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density(fill = "yellow",
alpha = .4) +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred") +
theme_minimal()
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density(fill = "yellow",
alpha = .4) +
geom_vline(xintercept = .7628,
color = "darkred",
size = 1.25) +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred") +
theme_minimal()
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density(fill = "yellow",
alpha = .4,
size = 1.25) +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred") +
theme_minimal()
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density(fill = "yellow",
alpha = .4,
size = 1.25) +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred") +
theme_minimal() +
labs(title = "Sebaran Recovery Rate Negara-Negara di Dunia",
subtitle = "sumber: Worldometers 10 Oktober 2020 11.46 WIB",
x = "Recovery Rate",
caption = "Scraped and Visualized\nusing R\nikanx101.com")
dunia %>%
ggplot(aes(x = recovery_rate)) +
geom_density(fill = "yellow",
alpha = .4,
size = 1.25) +
geom_vline(xintercept = .7628,
color = "darkred") +
annotate("label",
x = .7628,
y = 2,
label = "Indonesia: 76.28%",
fill = "gray",
color = "darkred") +
theme_minimal() +
labs(title = "Sebaran Recovery Rate Negara-Negara di Dunia",
subtitle = "sumber: Worldometers 10 Oktober 2020 11.46 WIB",
x = "Recovery Rate",
caption = "Scraped and Visualized\nusing R\nikanx101.com") +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank())
dunia %>%
mutate(penanda = ifelse(recovery_rate > 07628,"atas","bawah")) %>%
group_by(penanda) %>%
summarise(n = n()) %>%
ungroup()
dunia %>%
mutate(penanda = ifelse(recovery_rate > 0.7628,"atas","bawah")) %>%
group_by(penanda) %>%
summarise(n = n()) %>%
ungroup()
137+72
round(137/209*100,2)
setwd("~/Documents/ikanx101.com/_posts/ncode")
setwd("~/Documents/ikanx101.com/_posts/ncode")
