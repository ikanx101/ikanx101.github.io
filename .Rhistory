group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),paste(location,tot,sep = "~"),NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location,linetype = location)) +
geom_text(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),paste(location,tot,sep = "~"),NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location)) +
geom_text(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),paste(location,tot,sep = "~"),NA)) %>%
ungroup()
tes = data %>%
mutate(tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),paste(location,tot,sep = "~"),NA)) %>%
ungroup()
tes %>% filter(!is.na(label))
data %>% filter(location == "Indonesia")
data %>% filter(location == "Indonesia") %>% filter(new_cases == max(new_cases))
data %>% filter(location == "Indonesia") %>% filter(new_cases == max(new_cases)) %>% View()
data %>% select(location,new_cases) %>% View()
data %>%
mutate(new_cases = ifelse(is.na(new_cases),0,new_cases),
tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),paste(location,tot,sep = "~"),NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location)) +
geom_text(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(new_cases = ifelse(is.na(new_cases),0,new_cases),
tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),
paste(location,tot,sep = "~"),
NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location)) +
geom_text(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "New Confirmed Cases per Day",
subtitle = "Berapa rekor terbanyak penamabahan confirmed cases per day dari setiap negara ini?",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(new_cases = ifelse(is.na(new_cases),0,new_cases),
tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),
paste(location,tot,sep = "~"),
NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location)) +
geom_text(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "New Confirmed Cases per Day",
subtitle = "Berapa rekor terbanyak penambahan confirmed cases per day dari setiap negara ini?",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(new_cases = ifelse(is.na(new_cases),0,new_cases),
tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),
paste(location,tot,sep = "~"),
NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location)) +
geom_label(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "New Confirmed Cases per Day",
subtitle = "Berapa rekor terbanyak penambahan confirmed cases per day dari setiap negara ini?",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_cases/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_cases,)) +
geom_line(aes(group = location,color = location,linetype = location)) +
geom_label(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_deaths/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_deaths,)) +
geom_line(aes(group = location,color = location,linetype = location)) +
geom_label(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_deaths/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_deaths,)) +
geom_line(aes(group = location,color = location,linetype = location)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_deaths/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_deaths,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Confirmed Cases for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
nomnoml("[Machine Learning] -> [Supervised Learning]
[Machine Learning] -> [Unsupervised Learning]
[Unsupervised Learning -> [Contoh Supervised]
[Contoh Supervised] -> [Regressi]
[Contoh Supervised -> [K-Means Clustering]
[Contoh Supervised -> [Lainnya]
[Supervised Learning] -> [Decision Tree]
[Supervised Learning] -> [Random Forest]
")
library(nomnoml)
nomnoml("[Machine Learning] -> [Supervised Learning]
[Machine Learning] -> [Unsupervised Learning]
[Unsupervised Learning -> [Contoh Supervised]
[Contoh Supervised] -> [Regressi]
[Contoh Supervised -> [K-Means Clustering]
[Contoh Supervised -> [Lainnya]
[Supervised Learning] -> [Decision Tree]
[Supervised Learning] -> [Random Forest]
")
nomnoml("[Machine Learning] -> [Supervised Learning]
[Machine Learning] -> [Unsupervised Learning]
[Unsupervised Learning -> [Contoh Supervised]
[Contoh Supervised] -> [Regressi]
[Contoh Supervised -> [K-Means Clustering]
[Contoh Supervised -> [Lainnya]
[Supervised Learning] -> [Decision Tree]
[Supervised Learning] -> [Random Forest]
",
"Penjelasan.png")
nomnoml("[Machine Learning] -> [Supervised Learning]
[Machine Learning] -> [Unsupervised Learning]
[Unsupervised Learning -> [Contoh Supervised]
[Contoh Supervised] -> [Regressi]
[Contoh Supervised -> [K-Means Clustering]
[Contoh Supervised -> [Lainnya]
[Supervised Learning] -> [Decision Tree]
[Supervised Learning] -> [Random Forest]
",
"Penjelasan.png")
data %>%
mutate(tot = total_deaths/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_deaths,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Cieeee... Banyak Penggemar Liga Italy yah di Indonesia?\nPengen banget samaan",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_deaths/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_deaths,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(new_cases = ifelse(is.na(new_cases),0,new_cases),
tot = new_cases/1000,
tot = paste0(round(tot,1),"ribu")) %>%
group_by(location) %>%
mutate(label = ifelse(new_cases == max(new_cases),
paste(location,tot,sep = "~"),
NA)) %>%
ungroup() %>%
ggplot(aes(x = date,
y = new_cases,)) +
geom_line(aes(group = location,color = location)) +
geom_label(aes(label = label,color = location),hjust = 1,vjust = 1) +
labs(title = "New Confirmed Cases per Day",
subtitle = "Berapa rekor terbanyak penambahan confirmed cases per day dari setiap negara ini?",
x = "Tanggal",
y = "Banyak Kasus Baru harian",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_deaths/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_deaths,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_tests/1000,
tot = paste0(round(tot,1),"ribu"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_tests,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(tot = total_tests/1000000,
tot = paste0(round(tot,1),"juta"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_tests,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(total_tests = ifelse(is.na(total_tests),0,total_tests),
tot = total_tests/1000000,
tot = paste0(round(tot,1),"juta"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = total_tests,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(positive_rate = ifelse(is.na(positive_rate),0,positive_rate),
tot = positive_rate/1000000,
tot = paste0(round(tot,1),"juta"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = positive_rate,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(positive_rate = ifelse(is.na(positive_rate),0,positive_rate),
tot = positive_rate,
tot = paste0(round(tot,1),"%"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = positive_rate,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>%
mutate(positive_rate = ifelse(is.na(positive_rate),0,positive_rate),
tot = positive_rate*100,
tot = paste0(round(tot,1),"%"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = positive_rate,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location,linetype = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
data %>% filter(location == "Indonesia") %>% View()
data %>%
mutate(positive_rate = ifelse(is.na(positive_rate),0,positive_rate),
tot = positive_rate*100,
tot = paste0(round(tot,1),"%"),
label = ifelse(date == max(date),paste(location,tot,sep = "~"),NA)) %>%
ggplot(aes(x = date,
y = positive_rate,)) +
ggrepel::geom_label_repel(aes(label = label,color = location),hjust = 1,vjust = 1) +
geom_line(aes(group = location,color = location)) +
labs(title = "Cumulative Total Deaths for Selected Country",
subtitle = "Saatnya bertindak agar angka ini tidak terus bertambah lagi!",
x = "Tanggal",
y = "Banyak Kasus Meninggal Kumulatif",
caption = "Scraped and Visualized\nUsing R\nikanx101.com") +
theme_pubclean() +
theme(legend.position = 'none',
axis.text.y = element_blank(),
plot.title = element_text(face = "bold"),
plot.subtitle = element_text(face = "italic",size = 10))
setwd("~/Documents/belajaR/Bukan Infografis/olive oil tokped/Tokopedia")
source('~/Documents/belajaR/Bukan Infografis/olive oil tokped/Tokopedia/scrap topeds.R', echo=TRUE)
setwd("~/Documents/belajaR/Bukan Infografis/olive oil tokped/Shopee")
rm(list=ls())
library(dplyr)
library(jsonlite)
load('hasil scrape.rda')
# bikin fungsi scrape
scrape_shopee = function(url){
# buka json
tes = read_json(url)
#bentuk data frame
data = data.frame(
nama = tes$item$name,
terjual = tes$item$historical_sold,
merek = ifelse(is.null(tes$item$brand),'Tidak Ada Merek',tes$item$brand),
harga = tes$item$price,
harga_normal = tes$item$price_before_discount,
link = url
)
return(data)
}
i = 1
data = scrape_shopee(url[i])
for(i in 2:length(url)){
temp = scrape_shopee(url[i])
data = rbind(data,temp)
print(paste0('Alhamdulillah ',i,' sudah didapatkan...'))
}
for(i in 297:length(url)){
temp = scrape_shopee(url[i])
data = rbind(data,temp)
print(paste0('Alhamdulillah ',i,' sudah didapatkan...'))
}
for(i in 525:length(url)){
temp = scrape_shopee(url[i])
data = rbind(data,temp)
print(paste0('Alhamdulillah ',i,' sudah didapatkan...'))
}
for(i in 728:length(url)){
temp = scrape_shopee(url[i])
data = rbind(data,temp)
print(paste0('Alhamdulillah ',i,' sudah didapatkan...'))
}
data$waktu.scrape = Sys.time()
data = distinct(data)
raw = rbind(raw,data)
save(raw,url,file = 'hasil scrape.rda')
