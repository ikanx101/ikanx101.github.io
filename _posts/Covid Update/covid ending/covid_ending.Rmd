---
title: "Kondisi Terkini Pandemi Covid 19 di Dunia"
output: github_document
---

```{r,include=FALSE}
library(dplyr)
library(ggplot2)
rm(list=ls())
load("bahan_blog.rda")
clean_data = clean_data %>% filter(ratio_sakit > 0)
```

Tidak terasa sudah lebih dari satu setengah tahun kita melalui pandemi Covid 19. Sejak tulisan pertama saya terkait [model matematika penyebaran covid](https://ikanx101.com/blog/covid/), kini angka pertambahan kasus positif relatif sudah mulai terkendali. Sampai bisa seperti sekarang ini, Indonesia harus melalui jalan terjal dan berliku. Mulai dari hantaman gelombang pertama dan gelombang kedua (varian delta) pada kuartal I dan II tahun ini. Namun menurut saya, Indonesia belum bisa dikatakan menang melawan Covid 19. Masih ada PR yang harus kita selesaikan bersama sebagai negara. Selain itu korban yang berjatuhan sampai saat ini __tidak menjadikan kita pantas__ untuk berbangga hati.

Jika kita pantau dari berbagai sumber berita yang ada, sebenarnya ada beberapa negara yang sudah jauh lebih dulu "terbebas" dari Covid 19 dan kembali beraktivitas dengan "normal". Sementara sebagian lainnya masih berusaha keluar.

Sekarang mari kita lihat kondisi terkini Covid 19 per negara seperti yang saya himpun dari situs `r url` per `r waktu_scrape`. Saya akan membuat analisa deskriptif sederhana dari data yang saya dapatkan.

```{r,echo=FALSE}
cat("Contoh 10 Data Teratas yang Didapatkan")
show_data %>% head(10) %>% knitr::kable()
```

Dari data tersebut, saya akan menghitung beberapa _ratio_ seperti:

1. `ratio_sakit`: rasio antara _total cases_ dengan populasi.
1. `ratio_aktif`: rasio antara _active cases_ dengan _total cases_.
1. `ratio_cured`: rasio antara _total recovered_ dengan _total cases_.
1. `ratio_death`: rasio antara _total death_ dengan _total cases_.

```{r,echo=FALSE}
cat("Contoh 10 Data Teratas Hasil Perhitungan Rasio")
clean_data %>% head(10) %>% knitr::kable()
```

---

## _Total Cases_

_Total cases_ adalah angka _real infected person_ di suatu negara. Secara total dunia, sampai saat data ini saya _scrape_, sudah ada `r round(sum(show_data$total_cases)/1000000,2)` juta orang yang terinfeksi Covid 19. Mari kita lihat sebaran dari `ratio_sakit` semua negara:

```{r,echo=FALSE,warning=FALSE,message=FALSE,fig.retina=10}
top_5 = clean_data %>% arrange(desc(ratio_sakit)) %>% head(5)
top_5 = top_5$country_other

clean_data %>%
  ggplot(aes(x = 1,
	     y = ratio_sakit)) +
  geom_boxplot(fill = "red",
	       color = "darkred",
	       alpha = .4) +
  geom_point(position = "jitter",
	     color = "brown",
	     size = 1.25,
	     alpha = .6) +
  theme_minimal() +
  labs(title = "Boxplot dari Ratio Sakit",
       subtitle = "Sebaran rasio sakit dari semua negara di dunia\nSumber data: worldometers",
       caption = "Visualized using R\nikanx101.com",
       x = "Ratio Sakit",
       y = "Persen") +
  theme(axis.text.x = element_blank(),
	axis.title.y = element_blank())

```

Mayoritas negara-negara di dunia memiliki _ratio infected person_ __< 10%__. Ada hal yang menarik menurut saya: China sebagai negara _suspect_ bagi _patient zero_ ternyata "hanya" memiliki _ratio infected person_ sebesar __0.1%__ saja. Berikut adalah lima negara yang memiliki _ratio infected person_ terbesar:

```{r,echo=FALSE}
print(top_5)
```

---

## _Active Cases_

Sekarang mari kita lihat, negara mana saja yang masih _struggling_ dengan _ratio active cases_ tertinggi:

```{r,echo=FALSE,warning=FALSE,message=FALSE,fig.retina=10}
clean_data %>%
  arrange(desc(ratio_aktif)) %>%
  head(10) %>%
  ggplot(aes(x = reorder(country_other,ratio_aktif),
	     y = ratio_aktif)) +
  geom_col(color = "black",
	   fill = "darkred",
	   width = .5) +
  geom_label(aes(label = ratio_aktif)) +
  theme_minimal() +
  labs(title = "Top 10 Negara dengan Ratio Active Cases Terbanyak",
       subtitle = "Sumber data: worldometers.info",
       caption = "Visualized using R\nikanx101.com")
```



xxxx
