Kenapa Kita Tidak Boleh Percaya dengan Price Elasticity Semata?

Tahun lalu, saya sempat menjelaskan mengenai [_price elasticity_](https://ikanx101.com/blog/blog-posting-regresi/). Suatu analisa regresi linear sederhana yang memodelkan kausalitas (sebab akibat) antara harga dengan _sales quantity_ suatu produk.

Saya sendiri sering menggunakan analisa ini untuk pekerjaan market riset di kantor. 

Salah satu asumsi yang mendasari analisa ini adalah:

> Jika harga semakin mahal, maka secara logika _sales qty_ akan menurun.

```{r}
library(dplyr)
library(ggplot2)
data = data.frame(
  harga = c(100,400)
  qty = c(20,5)
  ) %>%
  ggplot(aes(x = harga, y = qty)) +
  geom_line()
```

Atau dengan kalimat matematisnya: __ada korelasi kuat negatif antara__ `harga` __dengan__ `sales qty`. 

Oleh karena itu, salah satu langkah terpenting adalah memastikan `harga` dan `sales qty` memiliki data yang cukup untuk bisa dihitung korelasinya (_pearson correlation_).

---

Kenapa saya justru korelasi padahal yang mau dilakukan adalah regresi (kausalitas)?

Jawabannya sederhana:

> Nilai korelasi yang kuat antara `harga` dan `sales qty` (misal saya notasikan sebagai $R$) akan menghasilkan model [regresi linear](https://ikanx101.com/blog/belajar-regresi/) yang kuat juga. Hal ini tergambar dari nilai _R-square_ ($R^2$) yang baik.

Nilai korelasi Pearson jika dikuadratkan akan sama dengan nilai _R-squared_.

Jadi ini adalah _screening_ awal saya dalam membuat model antara `harga` dan `sales qty`.

Saya pernah menuliskan materi terkait korelasi [di sini](https://ikanx101.com/blog/materi-korelasi/).

---

### Lantas bagaimana jika korelasi yang didapatkan bernilai positif?

Saat saya menemukan ada produk dengan nilai korelasi positif (dan juga kuat), ada dua hal yang terlintas di pikiran saya, yakni:

- Apakah semakin mahal produknya, `sales qty` malah semakin tinggi? Kalau begitu kita buat mahal saja produknya agar makin mendapatkan profit.
- Pasti ada yang salah dengan datanya. Kalau begini, produk tersebut tidak bisa dan tidak perlu dianalisa lebih lanjut.

---

### Data seperti itu jangan buru-buru ditinggalkan!

Ternyata saat kita menemukan data yang memiliki korelasi kuat positif seperti ini, kita jangan buru-buru untuk tidak menganalisanya. Setidaknya kita bisa melihat historikal datanya terlebih dahulu dan melakukan investigasi atas data tersebut.

Bingung?

Oke saya jelaskan dengan kasus _real_ berikut _yah_!

---

## Kompetisi _Optimization_ Tahap II

Setelah selesai kompetisi [tahap pertama](https://ikanx101.com/blog/binary-marketplace/) kemarin, kami melanjutkan mengadakan kompetisi tahap II. Berbekal data _real_ dari salah satu _market place_ rekan-rekan mahasiswa disuruh menghitung _price_ paling optimal yang bisa ditawarkan ke konsumen.

Cara menghitung _price_ optimal didasarkan pada model regresi _price elasticity_. Semua berjalan dengan baik hingga ada satu merek minyak goreng `XYZ` memiliki korelasi kuat positif sebesar `xxx`.

Jika saya buat model regresinya, berikut adalah hasilnya:

```{r}
ggplot
```

Model regresinya adalah:

$$salesqty = xx*harga$ + C$

Dengan hasil tersebut wajar jika kita mengatakan ada yang aneh dengan data tersebut. Tapi jika data tersebut kita _plot_ terpisah menjadi dua:

1. `sales qty` per waktu.
1. `harga` per waktu.

Kita akan dapatkan hasil sebagai berikut:

```{r}
data = data.frame(
  bulan = c(1:12),
  avg_price = c(130,139,144,143,140,138,138,139,139,145,149,151),
  total_order = c(51547,3245,162,15697,13076,23267,28990,25588,54801,62303,53544,65673)
  )
```

Terlihat ada strategi _pricing_ yang dilakukan oleh merek minyak goreng `XYZ` ini.

Di awal tahun (Q1), mereka sempat menaikkan harganya sehingga mengakibatkan `sales qty`-nya menurun. Tapi saat mereka menurunkan harganya perlahan (namun tetap di atas harga di awal tahun) di Q2 dan Q3, `sales qty` mereka juga perlahan naik. Jadi ada kesan kepada konsumen seolah-olah harga turun. 

Lalu pada Q3 ada anomali saat harganya naik tapi _sales qty_ juga meningkat. Kenapa hal ini terjadi?

> Melihat _single_ data seperti ini mungkin akan membuat 
