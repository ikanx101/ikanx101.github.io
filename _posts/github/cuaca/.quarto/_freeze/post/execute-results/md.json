{
  "hash": "4f4b05943a255f2ce9a2dfa30a96ba55",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Cuaca yang Dikumpulkan Otomatis dengan Github Action\"\nformat: \n  gfm:\n    html-math-method: webtex\n    toc: false\n    toc-depth: 4\n    fig-dpi: 500\n    fig-width: 8\n    fig-height: 4.5\neditor: visual\nexecute:\n  echo: false\n  warning: false\n  error: false\n---\n\n\n\n\n\nPada 2021 lalu, saya sempat menuliskan bagaimana cara mendapatkan data cuaca _real time_ dari [situs _openweathermap_](https://ikanx101.com/blog/open-cuaca/). Beberapa bulan lalu, saya juga menuliskan bagaimana cara membuat Github bisa melakukan [_web scrape_ secara otomatis](https://ikanx101.com/blog/gh-action/).\n\nNah, kali ini saya akan mengawinkan kedua teknik tersebut agar Github bisa _web scrape_ data cuaca _real time_ per dua jam sekali.\n\n_Workflow_ github _action_-nya saya buat seperti ini:\n\n```\non:\n  #push:\n    #branches: main\n  schedule:\n    - cron: \"0 */2 * * *\"  # run every 3 hrs\n    \njobs:\n  import-data:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Set up R\n        uses: r-lib/actions/setup-r@v2\n\n      - name: Install packages\n        uses: r-lib/actions/setup-r-dependencies@v2\n        with:\n          packages: |\n            any::dplyr \n            any::jsonlite\n\n      - name: Check out repository\n        uses: actions/checkout@v3\n\n      - name: Import data\n        run: Rscript -e 'source(\"real feel.R\")'\n\n      - name: Commit results\n        run: |\n          git config --local user.email \"xxx@gmail.com\"\n          git config --local user.name \"xx\"\n          git add .\n          git commit -m 'Data updated' \n          git push \n```\n\nSementara skrip algoritma _web scrape_-nya saya simpan sebagai `real feel.R` (silakan lihat _postingan_ [saya sebelumnya](https://ikanx101.com/blog/open-cuaca/)).\n\nApa saja data yang saya dapatkan? Berikut adalah _variables_-nya:\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"kota\"           \"kondisi\"        \"detail_kondisi\" \"suhu\"          \n [5] \"suhu_min\"       \"suhu_max\"       \"feel_like\"      \"humidity\"      \n [9] \"lon\"            \"lat\"            \"waktu\"          \"pressure\"      \n[13] \"wind_spd\"      \n```\n\n\n:::\n:::\n\n\n\nKenapa mengambil data cuaca dari situs [Open Weather Map](openweathermap.org)? Alasannya:\n\n1.  **BMKG**:\n    -   **API** dari situs **BMKG** tidak *reliable* dan sulit digunakan.\n    -   Tidak ada data *real feel* di situs **BMKG**.\n2.  [Open Weather Map](openweathermap.org):\n    -   API dari [Open Weather Map](openweathermap.org) cukup *reliable* untuk diambil datanya **per dua jam**.\n    -   Ada data *real feel*.\n    -   Cakupan kota lumayan.\n    -   Proses *scrape* bisa dilakukan otomatis tanpa supervisi sama sekali.\n\n---\n\n# DATA YANG DIAMBIL\n\n\n\n\n\n\n\nPada bagian ini, saya akan tunjukkan beberapa data cuaca di kota __Semarang, Jakarta, dan Surabaya__. Namun saya akan menggunakan data cuaca pada waktu jam kerja saja, yakni **pukul 08.00 - 18.00**.\n\n## Sebaran Data\n\nBerikut adalah sebaran data di kota-kota tersebut:\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-4-1.png){fig-align='center'}\n:::\n\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-4-2.png){fig-align='center'}\n:::\n\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-4-3.png){fig-align='center'}\n:::\n:::\n\n\n\n## *Trend Feel Like*\n\nBerikut adalah *trend feel like* dari kota-kota tersebut:\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-5-1.png){fig-align='center'}\n:::\n\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-5-2.png){fig-align='center'}\n:::\n\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-5-3.png){fig-align='center'}\n:::\n:::\n\n\n\n## *Trend Humidity*\n\nBerikut adalah *trend humidity* dari kota-kota tersebut:\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-6-1.png){fig-align='center'}\n:::\n\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-6-2.png){fig-align='center'}\n:::\n\n::: {.cell-output-display}\n![](post_files/figure-commonmark/unnamed-chunk-6-3.png){fig-align='center'}\n:::\n:::\n",
    "supporting": [
      "post_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}